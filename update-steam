#!/bin/bash
set -euo pipefail

# Colors
if [ -t 1 ] && [ -t 0 ]; then
    GREEN='\033[0;32m'
    YELLOW='\033[1;33m'
    NC='\033[0m'
else
    GREEN=''
    YELLOW=''
    NC=''
fi

STEAM_CFG="$HOME/.local/share/Steam/steam.cfg"

echo -e "${YELLOW}Updating Steam configuration...${NC}"

# Step 1: Remove steam.cfg
if [ -f "$STEAM_CFG" ]; then
    rm -f "$STEAM_CFG"
    echo "Removed $STEAM_CFG"
else
    echo "No steam.cfg found to remove"
fi

# Step 2: Instruct user to update Steam
echo ""
echo -e "${GREEN}Steam config removed!${NC}"
echo ""
echo "Now update Steam:"
echo "  1. Open Steam (it should auto-update)"
echo "  OR"
echo "  2. Steam > Check for Steam Client Updates"
echo ""
echo -e "${YELLOW}After Steam updates, run:${NC}"
echo ""
echo -e "${GREEN}  curl -fsSL https://raw.githubusercontent.com/ciscosweater/enter-the-wired/main/enter-the-wired | bash${NC}"
echo ""
